backend:
  name: git-gateway
  branch: master

media_folder: public/img  # 保持图片存储在静态目录
public_folder: /img

collections:
  - name: 'posts'
    label: '文章管理'
    label_singular: '文章'
    folder: 'src/'
    create: true
    nested:
      depth: 99
    path: "{{dirname}}/{{slug}}"  # 关键配置：包含路径的文件名
    slug: '{{slug}}'
    summary: "{{filename}}" # 显示文件名而非标题
    editor:
      preview: true
    fields:
      - { label: '标题', name: 'title', widget: 'string' }
      - { label: '正文', name: 'body', widget: 'markdown' }
      - name: 'dir'
        label: '文件路径'
        widget: 'relation'
        collection: 'posts'
        search_fields: [ 'dir' ]
        value_field: '{{dirname}}'
        required: false